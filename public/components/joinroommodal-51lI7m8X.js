import{r as n,j as e,c as b,X as f}from"../vendor-CwijfaBe.js";const N=({isOpen:m,onClose:u,onJoinRoom:x,pendingRoomId:r})=>{const[o,a]=n.useState(""),[i,l]=n.useState(null);if(n.useEffect(()=>{r&&a(r)},[r]),!m)return null;const h=t=>{const s=t.trim();if(s.includes("#room=")){const d=s.match(/#room=(.+)/);if(d)return d[1]}return s.startsWith("room_")||s.startsWith("room-")?s:s.length>0&&!s.includes("/")?`room-${s}`:null},p=t=>{t.preventDefault(),l(null);const s=h(o);if(!s){l("Invalid room ID or link. Please check and try again.");return}x(s),c()},c=()=>{a(""),l(null),u()};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl w-full max-w-md animate-in fade-in zoom-in-95 duration-200",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 text-purple-400"}),e.jsx("h2",{className:"text-lg font-semibold text-white",children:"Join Room"})]}),e.jsx("button",{onClick:c,className:"p-1 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:e.jsx(f,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:p,className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Room ID or Invite Link"}),e.jsx("input",{type:"text",value:o,onChange:t=>{a(t.target.value),l(null)},placeholder:"Paste room ID or link...",className:"w-full bg-slate-950 border border-slate-700 rounded-lg px-3 py-2.5 text-white placeholder-slate-500 focus:outline-none focus:border-purple-500 transition-colors",autoFocus:!0}),i&&e.jsx("p",{className:"mt-2 text-sm text-red-400",children:i})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-3 text-xs text-slate-400",children:[e.jsx("p",{className:"font-medium text-slate-300 mb-1",children:"Accepted formats:"}),e.jsxs("ul",{className:"space-y-0.5 list-disc list-inside",children:[e.jsxs("li",{children:["Full link:"," ",e.jsx("code",{className:"text-purple-400",children:"https://...#room=room_abc..."})]}),e.jsxs("li",{children:["Room ID: ",e.jsx("code",{className:"text-purple-400",children:"room_abc..."})]}),e.jsxs("li",{children:["Host Peer ID: ",e.jsx("code",{className:"text-purple-400",children:"abc123"})]})]})]}),e.jsx("button",{type:"submit",disabled:!o.trim(),className:"w-full py-2.5 bg-purple-600 hover:bg-purple-500 disabled:bg-slate-700 disabled:text-slate-500 text-white rounded-lg font-medium transition-colors",children:"Join Room"})]})]})})};export{N as J};
