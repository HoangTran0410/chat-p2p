import{j as e,v as o,w as m,X as x,m as d}from"../vendor-oXHEIvo-.js";import{b as u,a as h,g as p}from"../index-D_R22nPJ.js";const f=({isMinimized:a=!1,onToggleMinimize:n})=>{const{activeGame:s,makeMove:i,leaveGame:l}=u(),{myId:r}=h();if(!s||!r)return null;const t=p.createInstance(s.gameType);return t?e.jsxs("div",{className:"bg-slate-900 border-b border-slate-800 flex flex-col transition-all duration-300",children:[e.jsxs("div",{className:"flex items-center justify-between px-4 py-2 bg-slate-900/50 border-b border-slate-800/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xl",children:t.gameIcon}),e.jsx("span",{className:"font-medium text-slate-200",children:t.gameName}),s.status==="finished"&&e.jsx("span",{className:"ml-2 px-2 py-0.5 text-xs rounded-full bg-slate-800 text-slate-400 border border-slate-700",children:"Finished"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[n&&e.jsx("button",{onClick:n,className:"p-1.5 text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",title:a?"Maximize":"Minimize",children:a?e.jsx(o,{className:"w-4 h-4"}):e.jsx(m,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>{s.status==="playing"&&!confirm("Are you sure you want to leave the game?")||l()},className:"p-1.5 text-slate-400 hover:text-red-400 hover:bg-red-900/20 rounded-lg transition-colors",title:"Leave Game",children:e.jsx(x,{className:"w-4 h-4"})})]})]}),!a&&e.jsxs("div",{className:"p-2 bg-slate-950/30 min-h-[300px] flex items-center justify-center relative",children:[s.status==="waiting"&&e.jsxs("div",{className:"absolute inset-0 bg-slate-950/80 z-10 flex items-center justify-center flex-col gap-3",children:[e.jsx("div",{className:"flex items-center justify-center w-16 h-16 rounded-full bg-slate-800/50 animate-pulse ring-1 ring-slate-700",children:e.jsx("span",{className:"text-3xl animate-bounce",children:"â³"})}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-slate-200 font-medium text-lg",children:"Waiting for opponent..."}),e.jsx("p",{className:"text-sm text-slate-500 mt-1",children:"Request sent to peer"})]}),e.jsx("button",{onClick:l,className:"mt-2 px-4 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-950/30 rounded-lg transition-colors border border-transparent hover:border-red-900/50",children:"Cancel Request"})]}),s.status==="cancelled"&&e.jsxs("div",{className:"absolute inset-0 bg-slate-950/80 z-10 flex items-center justify-center flex-col gap-2",children:[e.jsx(d,{className:"w-8 h-8 text-yellow-500"}),e.jsx("p",{className:"text-slate-300",children:"Game Cancelled"}),e.jsx("button",{onClick:l,className:"text-sm text-primary-400 hover:underline",children:"Close"})]}),t.render(s,r,r===s.hostId,c=>i(c))]})]}):null};export{f as G};
